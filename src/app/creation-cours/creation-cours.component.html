<div>
  <div class="form-inline" style="width: 120%">
    <h3 style="margin-top: 10px" style="width: 30%"> Rédiger un cours -</h3>
    <div class="form-group" style="margin: 10px">
      <input [(ngModel)]="cours.intitule" class="form-control" type="text" id="nom" placeholder="Intitulé du cours">
    </div>
    <div class="form-group" style="margin: 10px">
      <input [(ngModel)]="cours.duree" class="form-control" type="number"  id="prenom" placeholder="Durée du cours (en heures)">
    </div>
    <div class="form-group" style="margin: 10px">
      <select class="form-control" id="niveauEtude"  [(ngModel)]="cours.difficulte" >
        <option value="" disabled>Difficulté</option>
        <option value="FACILE">Facile</option>
        <option value="MOYEN">Moyen</option>
        <option value="DIFFICILE">Difficile</option>
      </select>
    </div>
  </div>


  <div class="card-body">

    <div class="form-group">
      <input [(ngModel)]="cours.description" type="text" class="form-control" placeholder="Description du cours">
    </div>
    <div class="form-group">
      <select class="form-control"  #modu (change)="moduleCourant($event, modu.value)"   >
        <option value=""disabled selected>Module</option>
        <option *ngFor="let module of moduleAndChap" [value] = "module.id" [selected]="module.id == currentModule.id">{{module.agencement}} </option>
      </select>
    </div>
    <div class="form-group">
      <button type="button" (click)="nouveauModule()">Nouveau Module</button>
    </div>
    <div class="form-group">
      <input  [(ngModel)]="currentModule.intitule" type="text" class="form-control" placeholder="Intitulé du module courant">
    </div>
    <div *ngIf="currentModule.intitule!=null">
    <div class="form-group">
      <select class="form-control"  #chap (change)="chapitreCourant($event, chap.value)" >
        <option value="" disabled>Chapitre</option>
        <option *ngFor="let chapitre of currentModule.chapitres" [value]="chapitre.id" [selected]="chapitre.id == currentChapitre.id">{{chapitre.agencement}}</option>
      </select>
    </div>
    <div class="form-group">
      <button type="button" (click)="nouveauChapitre()">Nouveau Chapitre</button>
    </div>
    <div class="form-group">
      <input  [(ngModel)]="currentChapitre.titre" type="text" class="form-control" placeholder="Intitulé du chapitre courant">
    </div>
      <div *ngIf="currentChapitre.titre!=null">
    <div class="form-group" *ngFor="let element of elementDeCours ">
      <div *ngIf="element.type  === 'Paragraphe'">
        <textarea [(ngModel)]="element.titre" class="form-control textareatitle" placeholder="Entrer votre titre" style="width: 100%"></textarea>
        <textarea [(ngModel)]="element.texte" class="form-control textarea" placeholder="Entrer votre texte" style="width: 100%"></textarea>
        <br>
      </div>
      <div *ngIf="element.type  === 'Image'">
        <input  type="file" class="form-control textarea" placeholder="Choisissez votre image">
        <input  type="text" class="form-control textarea" placeholder="Entrer votre texte">
        <br>
      </div>
      <div *ngIf="element.type  === 'ExtraitCode'">
        <input [(ngModel)]="element.chemin" type="text" class="form-control textarea" placeholder="Entrer votre titre">
        <input [(ngModel)]="element.commentaire" type="text" class="form-control textarea" placeholder="Entrer votre texte">
        <br>
      </div>
    </div>

    <br>
    <div class="form-group">
      <p>Sélectionner un type de contenu:</p>
      <input type="radio" id="texte" name="contenu" value="texte" checked [(ngModel)]="aAjouter" (click)="nouveauElement()">
      <label for="texte">Texte</label>
      <input type="radio" id="Image" name="contenu" value="image" [(ngModel)]="aAjouter" (click)="nouveauElement()">
      <label for="Image">Image</label>
      <input type="radio" id="ExtraitCode" name="contenu" value="extraitCode" [(ngModel)]="aAjouter" (click)="nouveauElement()">
      <label for="ExtraitCode">Extrait de code</label>
    </div>
  <div *ngIf="currentElement.type  === 'Paragraphe'">
    <textarea [(ngModel)]="currentElement.titre" class="form-control textareatitle" type="text"  placeholder="Entrer votre titre"></textarea>
    <textarea [(ngModel)]="currentElement.texte" type="text" class="form-control textarea" placeholder="Entrer votre texte"></textarea>
    <br>
    <div class="form-group">
      <button type="button" (click)="enregistrerEvent()">Enregistrer l'élèment</button>
    </div>
  </div>
  <div *ngIf="currentElement.type  === 'Image'">
    <input  type="file" class="form-control" placeholder="Choisissez votre image">
    <input  type="text" class="form-control" placeholder="Entrer votre texte">
    <br>
    <div class="form-group">
      <button type="button" (click)="enregistrerEvent()">Enregistrer l'élèment</button>
    </div>
  </div>
  <div *ngIf="currentElement.type  === 'ExtraitCode'">
    <input [(ngModel)]="currentElement.chemin" type="text" class="form-control" placeholder="Entrer votre titre">
    <input [(ngModel)]="currentElement.commentaire" type="text" class="form-control" placeholder="Entrer votre texte">
    <br>
    <div class="form-group">
      <button type="button" (click)="enregistrerEvent()">Enregistrer l'élèment</button>
    </div>
  </div>
        <div>
          <div class="btn-group btn-group-lg float-right">
            <a class="btn btn-success" >
              <i class="fa fa-check" (click)="save(cours, currentModule, currentChapitre, elementDeCours)"> Enregistrer</i>
            </a>
            <a class="btn btn-warning" >
              <i class="fa fa-undo" (click)="saveValidate(cours, currentModule, currentChapitre, elementDeCours)">Soumettre pour vérification</i>
            </a>
          </div>
        </div>
</div>
    </div>
  </div>
</div>
